/**
 * @preserve
 * @name REVOLUTION 3.0.3 ADDON - TypeWriter
 * @version 3.0.3 (10.05.2021)
 * @requires Slider Revolution 6.4.0
 * @author ThemePunch
 */
;(function(){jQuery.fn.revolution=jQuery.fn.revolution===undefined?{}:jQuery.fn.revolution;var _R=jQuery.fn.revolution,$,css,decoder,sliders=[],events=['onbeforeswap','layeraction','beforeredraw','afterdraw'],anime='content: "[char]"; animation: tp-typewriter [speed]s steps(2, start) infinite';window.RsTypewriterAddOn=function(_$,slider){if(!_R||!slider)return;var layrs=slider.find('rs-layer[data-typewriter], .rs-layer[data-typewriter]');if(layrs.length)new RsTypewriter(_$,slider,layrs)};function setAlignClass(coreData,el){var _L=coreData._L,curLevel=coreData.level;_R.rC(el,'typewriter-align-right');for(var prop in _L){if(!_L.hasOwnProperty(prop)){continue}
var layr=_L[prop];if(layr.typewriter&&layr.typewriter.active&&layr.c[0]===el&&layr.x[curLevel]==='r'){_R.aC(el,'typewriter-align-right')}}}
function RsTypewriter(_$,slider,layrs){this.eventCallback=this.eventCallback.bind(this);this.writeLayerData=this.writeLayerData.bind(this);this.onResize=this.onResize.bind(this);var TW=this;sliders[sliders.length]=TW;if(!$){$=_$;$.event.special.typewriterDestroyed={remove:function(evt){evt.handler()}};decoder=document.createElement('textarea')}
css='@keyframes tp-typewriter {from {visibility: visible}to {visibility: hidden}}';TW.layrs=[];var sliderData=_R[slider[0].id]?_R[slider[0].id]:!1,levels=sliderData&&sliderData.responsiveLevels?sliderData.responsiveLevels:'';TW.levels=levels.toString().split(',');TW.slider=slider.one('typewriterDestroyed',onRemove);TW.sliderId=slider[0].id;layrs.each(TW.writeLayerData);if(css){var head=document.head||document.body;if(head){var style=document.createElement('style');style.type='text/css';style.innerHTML=css;head.appendChild(style)}}
var len=events.length;for(var i=0;i<len;i++){slider.on('revolution.slide.'+events[i],TW.eventCallback)}
_R.document.on('revolution.slide.afterdraw',this.onResize)}
RsTypewriter.prototype={eventCallback:function(event,obj){this[event.namespace.replace('.slide','')](obj)},onResize:function(){if(!this.slider||!this.layrs){return}
var coreData=_R[this.sliderId];this.layrs.forEach(function(layr){setAlignClass(coreData,layr.el)})},onbeforeswap:function(data){var layrs=this.layrs,coreData=_R[this.sliderId],len=layrs.length,itm;data=data.currentslide[0];if(!data)return;while(len--){itm=layrs[len];if(itm.statc)continue;clearTimeout(itm.timer);itm.running=!1;itm.active=!1;if(!data.contains(itm.el)){itm.el.innerHTML=itm.orig;setAlignClass(coreData,itm.el);_R.aC(itm.el,'hide-typewriter-cursor')}}},layeraction:function(obj){if(obj.eventtype!=='enterstage')return;var typewriter=$.data(obj.layer[0],'typewriter'),tpe=obj.layertype==='html'||obj.layertype==='text';if(typewriter&&tpe){_R.sA(obj.layer[0],'vary-layer-dims',!0);typewriter.active=!0;typewriter.start()}},beforeredraw:function(obj){var layrs=this.layrs,len=layrs.length;while(len--)layrs[len].onRedraw();},afterdraw:function(){var layrs=this.layrs,len=layrs.length;while(len--)layrs[len].onRedraw(!0);},writeLayerData:function(i,el){var txt=_R.trim(el.innerHTML);if(!txt){_R.rA(el,'typewriter');return}
if(_R.gA(el,'whiteboard')){if(typeof console!=='undefined'){console.log('Whiteboard is disabled for Layers with Typewriter Add-On effect enabled')}
_R.rA(el,'whiteboard')}
this.layrs[this.layrs.length]=new TypewriterLayer(el,txt,this.levels,this.slider)}};function cleanData(data){for(var prop in data){if(data.hasOwnProperty(prop)&&typeof data[prop]==='string'&&data[prop].search('ms')!==-1){data[prop]=data[prop].replace('ms','')}}}
function TypewriterLayer(el,txt,levels,revapi){this.animate=this.animate.bind(this);this.onStart=this.onStart.bind(this);var L=this;L.spans=[];L.textSpans=[];L.incompleteSpan=!1;var data=JSON.parse(_R.gA(el,'typewriter')),clean=txt.replace(/(_|\|)$/,''),clas=el.className,lines=data.lines,orig=txt,dels=[],delays,widths,preLev,level,delay,space,auto,line,len,val,dim,d1,d2,i;if(!lines&&data.sequenced&&data.looped)lines=txt;cleanData(data);_R.aC(el,'hide-typewriter-cursor');for(var prop in data){if(!data.hasOwnProperty(prop))continue;val=data[prop];prop=prop.replace(/_([a-z])/g,camelCase);L[prop]=val==='on'||val===!0?1:val==='off'||val===!1?0:isNaN(val)===!1?parseInt(val,10):val}
if(L.blinking){var selector='#'+el.id;css+=selector+':before,';css+=selector+':after {';css+=anime.replace('[char]',L.cursorType==='one'?'_':'|').replace('[speed]',parseInt(L.blinkingSpeed,10)*0.001)+'}';css+=selector+'.hide-typewriter-cursor:before,';css+=selector+'.hide-typewriter-cursor:after {content: ""}';css+=selector+':before {display: none}';css+=selector+'.typewriter-align-right:after {display: none}';css+=selector+'.typewriter-align-right:before {display: inline}';if(L.color&&L.color!=='transparent'){css+=selector+':before,';css+=selector+':after {color:'+L.color+'}'}
if(L.background){dim=_R.gA(el,'dim');if(!dim)dim='w:auto;h:auto;';widths=dim.split('w:')[1];widths=widths.split(';')[0];widths=widths.replace(/[\[\]']+/g,'').split(',');if(levels){len=widths.length;for(i=0;i<len;i++){level=levels[i];if(level===preLev)continue;auto=widths[i];auto=auto==='auto'||auto==='none';if(i>0){auto=auto?'static':'absolute';css+='@media screen and (max-width: '+level+'px) {'+'rs-layer'+selector+'[data-typewriter]:before,'+selector+'.rs-layer[data-typewriter]:before,'+'rs-layer'+selector+'[data-typewriter]:after,'+selector+'.rs-layer[data-typewriter]:after {position: '+auto+'}}'}else if(auto){_R.sA(el,'typewriter-blinking','true')}
preLev=level}}else{auto=widths[0];if(auto==='none'||auto==='auto'){_R.sA(el,'typewriter-blinking','true')}}}}
var tempSanitize;if(L.sequenced&&lines){tempSanitize=sanitize(unescape(txt));L.textSpans=L.textSpans.concat(tempSanitize.spans);txt=[tempSanitize.value];lines=lines.split(',');len=lines.length;for(i=0;i<len;i++){line=_R.trim(lines[i]);tempSanitize=sanitize(unescape(line));L.spans=L.spans.concat(tempSanitize.spans);if(line)txt[txt.length]=tempSanitize.value}
_R.sA(el,'typewriter-sequenced','true')}else{L.looped=!1;L.sequenced=!1;L.newlineDelay=L.linebreakDelay;tempSanitize=sanitize(txt,!0);L.spans=L.spans.concat(tempSanitize.spans);lines=(tempSanitize.value).split(/\r?\n|\r/g);len=lines.length;txt=[];for(i=0;i<len;i++){txt[txt.length]=_R.trim(lines[i]);txt[txt.length]=''}
while(txt[0]==='')txt.shift();while(txt[txt.length-1]==='')txt.pop();}
if(L.wordDelay){delays=data.delays;if(delays){delays=delays.split(',');len=delays.length;space=0;for(i=0;i<len;i++){delay=unescape(delays[i]).split('|');d1=delay[0];d2=delay[1];if(isNaN(d1)===!1&&isNaN(d2)===!1){d1=parseInt(d1);dels[d1+space-1]=parseInt(d2);space+=d1}}
L.spaces=dels}else{L.wordDelay=!1}}
L.sliderid=revapi[0].id;L.el=el;L.txt=txt;L.orig=orig;L.clean=clean;L.revapi=revapi;L.len=txt.length;L.statc=clas.search('rs-layer-static')!==-1;$.data(el,'typewriter',L)}
TypewriterLayer.prototype={start:function(delay,fromLoop){var L=this;clearTimeout(L.timer);if(L.paused)return;L.line=0;L.step=0;L.words=0;L.skip=!1;L.rewind=!1;L.rstart=!1;L.breaker=!1;L.paused=!1;L.rpaused=!1;L.str=L.txt[L.line];L.len=L.str.length;if(!fromLoop){L.el.innerHTML='&nbsp;';_R.rC(L.el,'hide-typewriter-cursor');L.timer=setTimeout(L.onStart,L.startDelay)}else{L.timer=setTimeout(L.onStart,delay);L.revapi.trigger('revolution.slide.typewriterlooped',[L.el])}
L.running=!0;L.revapi.trigger('revolution.slide.typewriterstarted',[L.el]);L.revapi.trigger('revolution.slide.typewriternewline',[L.el,L.line+1,L.txt[L.line]]);requestAnimationFrame(function(){L.updatePosition(L.sliderid,_R[L.sliderid]._L[L.el.id])})},onStart:function(){var L=this;L.el.innerHTML='';setAlignClass(_R[L.sliderid],L.el);L.animate()},animate:function(){var L=this,next,charc,words,space,str=L.str,txt=L.txt,step=L.step,rewind=L.rewind,speed=!rewind?L.speed:L.deletionSpeed;if(step<L.len){if(!rewind){if(!L.breaker){charc=str[step];if(charc==='µ'){L.skip=!0;L.breaker=!0;speed=L.linebreakDelay}}else{charc='<br>';speed=!L.skip?L.newlineDelay:L.linebreakDelay;L.breaker=!1;L.skip=!1;L.words=0;L.step--}
if(!L.breaker){space=L.el.innerHTML;if(space==='&nbsp;')space='';if(charc==="╠"||charc==="╣"||L.incompleteSpan){var count=space.match(/<span[^>]*>/g);count=count?count.length:0;if(charc==="╠"){L.incompleteSpan=!0;charc=L.spans[count]+"</span>";space=space+charc}else if(charc==="╣"){L.incompleteSpan=!1}else{space=replaceStringAt(space,space.lastIndexOf("</span>"),"</span>",charc+"</span>")}}else{space=space+charc}
L.el.innerHTML=space;if(L.wordDelay&&charc===' '){words=L.words;space=L.spaces[words];if(space){speed=space;L.words=words<L.spaces.length-1?words+1:0}else{L.words+=1}}}}else{str=str.slice(0,-1);L.str=str;var regex=/╠/g;var matches=[];var m;while(m=regex.exec(str)){matches.push(m)}
if(matches){for(var i=matches.length-1;i>=0;i--){var match=matches[i];str=replaceStringAt(str,match.index,"╣",L.spans[i])}
str=str.replace(/╣/g,'</span>')||'&nbsp'}
L.el.innerHTML=str.replace(/µ/g,'<br>')||'&nbsp'}
L.step++;next=!0}else if(L.rstart){if(!L.paused){L.start(L.newlineDelay,!0)}else{L.rpaused=!0;L.lastSpeed=L.newlineDelay}
return}else if(L.line<txt.length){L.line++;L.step=0;L.skip=!1;str=txt[L.line];L.str=str;if(str===''){L.line++;L.breaker=!0;speed=L.newlineDelay}
if(L.line<txt.length){if(!L.sequenced){L.str=txt[L.line];L.len=L.str.length}else{rewind=!rewind;if(!rewind){L.str=txt[L.line];L.len=L.str.length;speed=L.newlineDelay}else{L.line--;L.str=txt[L.line];speed=L.deletionDelay}
L.rewind=rewind}
next=!0;L.words=0;if(!L.rewind){L.revapi.trigger('revolution.slide.typewriternewline',[L.el,L.line+1,txt[L.line]])}}else if(L.looped){L.rewind=!0;L.rstart=!0;L.words=0;L.line--;L.str=txt[L.line];next=!0;speed=L.deletionDelay}}
requestAnimationFrame(function(){L.updatePosition(L.sliderid,_R[L.sliderid]._L[L.el.id])});if(next){if(L.paused){L.lastSpeed=speed;return}
if(speed)L.timer=setTimeout(L.animate,speed);else L.animate()}else{L.running=!1;if(L.hideCursor)_R.aC(L.el,'hide-typewriter-cursor');L.revapi.trigger('revolution.slide.typewriterended',[L.el])}},updatePosition:function(id,_){_.oldeow=_.eow;_.oldeoh=_.eoh;_.eow=_.c.outerWidth(!0);_.eoh=_.c.outerHeight(!0);var elx=_.x[_R[id].level],ely=_.y[_R[id].level],gridOffset=_R.getGridOffset(id,_.slideIndex,_.basealign,_._isstatic),gw=gridOffset[0],gh=gridOffset[1],offsetx=gridOffset[2],offsety=gridOffset[3];if(_.eow<=0&&_.lastknownwidth!==undefined)_.eow=_.lastknownwidth;if(_.eoh<=0&&_.lastknownheight!==undefined)_.eoh=_.lastknownheight;if(_.eow==0&&_.eoh==0){_.eow=_.basealign==="grid"?_R[id].content.width:_R[id].module.width;_.eoh=_.basealign==="grid"?_R[id].content.height:_R[id].module.height}
var vofs=_.rsp_o==="on"?parseInt(_.voffset[_R[id].level],0)*_R[id].CM.w:parseInt(_.voffset[_R[id].level],0),hofs=_.rsp_o==="on"?parseInt(_.hoffset[_R[id].level],0)*_R[id].CM.w:parseInt(_.hoffset[_R[id].level],0),crw=_.basealign==="grid"?_R.iWA(id,_R[id].pr_active_key)*_R[id].CM.w:gw,crh=_.basealign==="grid"?_R.iHE(id)*(_R[id].keepBPHeight||_R[id].currentRowsHeight>_R[id].gridheight[_R[id].level]?1:_R[id].CM.h):gh;if(_R[id].gridEQModule==!0||(_._lig!==undefined&&_.type!=="row"&&_.type!=="column"&&_.type!=="group")){crw=_._lig!==undefined?_._lig.width():_R[id].module.width;crh=_._lig!==undefined?_._lig.height():_R[id].module.height;offsetx=0;offsety=0}
elx=elx==="c"||elx==="m"||elx==="center"||elx==="middle"?(crw/2-_.eow/2)+hofs:elx==="l"||elx==="left"?hofs:elx==="r"||elx==="right"?(crw-_.eow)-hofs:_.rsp_o!=="off"?elx*_R[id].CM.w:elx;ely=ely==="m"||ely==="c"||ely==="center"||ely==="middle"?(crh/2-_.eoh/2)+vofs:ely==="t"||ely=="top"?vofs:ely==="b"||ely=="bottom"?(crh-_.eoh)-vofs:_.rsp_o!=="off"?ely*_R[id].CM.w:ely;elx=_._slidelink?0:_R[id].rtl&&(""+_.width[_R[id].level]).indexOf("%")==-1?parseInt(elx)+_.eow:elx;_.calcx=(parseInt(elx,0)+offsetx);_.calcy=(parseInt(ely,0)+offsety);_.OBJUPD.POBJ={zIndex:_.zindex,top:_.calcy,left:_.calcx,overwrite:"auto"};if(_.caches.POBJ_LEFT!==_.OBJUPD.POBJ.left||_.caches.POBJ_TOP!==_.OBJUPD.POBJ.top){tpGS.gsap.set(_.p,_.OBJUPD.POBJ);_.caches.POBJ_LEFT=_.OBJUPD.POBJ.left;_.caches.POBJ_TOP=_.OBJUPD.POBJ.top}},onRedraw:function(restore){if(!restore){var pos=window.getComputedStyle(this.el,':after').getPropertyValue('position');this.state=this.el.innerHTML;this.el.innerHTML=pos==='absolute'?this.orig:this.clean}else{this.el.innerHTML=this.state}},pause:function(){if(!this.active)return;clearTimeout(this.timer);this.paused=!0},resume:function(){var L=this;if(!L.active)return;if(!L.running){L.restart();return}
if(!L.paused)return;if(!L.rpaused){L.paused=!1;if(L.lastSpeed)L.timer=setTimeout(L.animate,L.lastSpeed);else L.animate()}else{L.start(L.lastSpeed,!0)}},restart:function(){if(!this.active)return;clearTimeout(this.timer);this.rpaused=!1;this.paused=!1;this.start()},restore:function(hideCursor){if(!this.active)return;clearTimeout(this.timer);this.el.innerHTML=this.clean;if(hideCursor)_R.aC(this.el,'hide-typewriter-cursor')}};function camelCase(chr){return chr[1].toUpperCase()}
function sanitize(st,deep){st=st.replace(/<(?!br|span|\/span\s*\/?)[^>]+>/g,'').replace(/(_|\|)$/,'');if(!deep){st=st.replace(/\r?\n|\r/g,'±').replace(/<br[^>]*>/gi,'µ').replace(/<\/span>/gi,'╣').replace(/±µ|µ±/g,'µ').replace(/^±+|±+$/g,'').replace(/^µ+|µ+$/g,'')}else{st=st.replace(/\r?\n|\r/g,' ').replace(/<br[^>]*>/gi,'µ').replace(/<\/span>/gi,'╣')}
var regex=/<span[^>]*>/g;var spans=[];var match;while(match=regex.exec(st)){spans.push(match[0])}
st=st.replace(regex,'╠');decoder.innerHTML=st;return{value:decoder.value,spans:spans}}
function replaceStringAt(str,index,target,replacement){return str.substr(0,index)+replacement+str.substr(index+target.length,str.length)}
function onRemove(){var i=sliders.length,slider;while(i--){slider=sliders[i];if(slider[0]===this){destroy(slider);sliders=sliders.splice(i,1);break}}}
function destroy(slider){var layrs=slider.layrs,len=layrs.length;while(len--){$.removeData(layrs[len].el,'typewriter')}
for(var prop in slider){if(slider.hasOwnProperty(prop)){delete slider[prop]}}}
window.RS_MODULES=window.RS_MODULES||{};window.RS_MODULES.typewriter={loaded:!0,version:'3.0.3'};if(window.RS_MODULES.checkMinimal)window.RS_MODULES.checkMinimal()})()